Додавання зображень для медикаментів

Цей каталог підтримує завантаження реальних фото медикаментів і локальне використання їх у `seed`-скрипті.

1. Маршрут зображень (локальний)

   - Розмістіть файли у `server/public/images/meds/`.
   - Ім'я файлу має бути slug з назви медикаменту (наприклад: `парацетамол-500-мг.jpg`).
   - Скрипт `seed.js` автоматично перевіряє локальну наявність і використовує URL `/images/meds/<filename>`.

   - Якщо мед не має локального фото на початку, при виконанні `--download-images` скрипт спробує знайти і завантажити релевантне фото з Wikimedia Commons — і автоматично допише знайдений URL у `med_images.json`.

   - Щоб URL у Firestore були абсолютними (тобто `http://localhost:5000/images/meds/...`), можете встановити `SERVER_HOST` у середовищі перед запуском seed, наприклад:

   ```powershell
   $env:SERVER_HOST = "http://localhost:5000"
   npm run seed -- --force --download-images
   ```

   Якщо `SERVER_HOST` не вказано, seed за замовчуванням використовує `http://localhost:${process.env.PORT || 5000}`.

2. Використання вашого локального image fallback

   - Ви можете завантажити свою фото-референцію у `server/seed/fallback.jpg` (наприклад, фото таблеток, яке ви долучали).
   - Запустивши `npm run seed -- --force --download-images`, скрипт автоматично спробує скопіювати `server/seed/fallback.jpg` до `server/public/images/meds/fallback.jpg` і використовуватиме його як fallback для будь-якого медикаменту, у якого не знайдено фото.

     - Якщо ви хочете **примусово замінити** stock/lifestyle або невідповідні зображення (наприклад, картинки вілл, басейнів, інтер'єрів) на ваш локальний fallback, запустіть seed з додатковим прапором `--replace-scenic` або `--force-fallback`:

     ```powershell
     npm run seed -- --force --replace-scenic
     ```

     Це корисно коли автоматично підібрані зовнішні зображення (Unsplash/others) не підходять для каталогу медикаментів — скрипт замінить такі URL на ваш `fallback.jpg`.

   - Примітка: існує також серверний endpoint (тільки для адміністраторів) `POST /api/medicines/replace-scenic`, щоб виконати цю заміну для вже існуючих записів у базі без повторного seed'у.

3. Автоматичне завантаження зображень з `med_images.json`:

   - Створіть (або відредагуйте) `server/seed/med_images.json` (файл JSON із парою "назва":"URL зображення").
   - Потім запустіть:
     npm run seed -- --force --download-images
   - Скрипт завантажить зображення у `server/public/images/meds/` і використовуватиме їх під час seed.

4. Ліцензії / атрибуція

   - Якщо використовуєте зовнішні зображення, переконайтесь, що ліцензія дозволяє використання (Unsplash, Wikimedia Commons, тощо). Деякі зображення вимагають атрибуції (CC BY/SA) — додайте атрибуцію у README або UI при необхідності.

5. Порада для розробника

   - Якщо хочете швидко додати декілька зображень локально, просто покладіть їх у `public/images/meds` з іменами, що відповідають slug ім'я медикаменту (див. `seed.js`), потім запустіть:
     npm run seed -- --force

6. Маппінг прикладу
   - Файл `server/seed/med_images.json` (зразок `med_images.sample.json`) покаже формат маппінгу. Ви можете додати звідти посилання на Wikimedia або інші безкоштовні джерела.
